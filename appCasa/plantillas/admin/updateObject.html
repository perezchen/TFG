<!-- templates/admin_panel.html -->
{% extends "base.html" %}

{% load static %}

{% block title %}Update Casa{% endblock %}

{% block extra_links %}
<link rel="stylesheet" href="{% static 'appCasa/css/admin/updateObject.css' %}">
{% endblock %}

{% block content %}

{% if tipo_objeto == 'casa' %}
<div class="container">
    <h1>Editar Casa</h1>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="tipo_objeto" value="casa">

        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre"
                value="{{ object.nombre }}">
        </div>
        <div class="mb-3">
            <label for="licencia" class="form-label">Licencia</label>
            <input type="text" class="form-control" id="licencia" name="licencia" value="{{ object.licencia }}">
        </div>
        <div class="mb-3">
            <label for="direccion" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="direccion"
                name="direccion" value="{{ object.direccion }}">
        </div>
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción</label>
            <textarea class="form-control" id="descripcion"
                name="descripcion">{{ object.descripcion }}</textarea>
        </div>
        <div class="mb-3">
            <label for="num_habitaciones" class="form-label">Número de
                Habitaciones</label>
            <input type="number" class="form-control" id="num_habitaciones"
                name="num_habitaciones"
                value="{{ object.numero_habitaciones }}">
        </div>
        <div class="mb-3">
            <label for="max_inquilinos" class="form-label">Máximo de
                Inquilinos</label>
            <input type="number" class="form-control" id="max_inquilinos"
                name="max_inquilinos" value="{{ object.max_inquilinos }}">
        </div>
        <div class="mb-3">
            <label for="precio_noche_persona" class="form-label">Precio por noche/persona</label>
            <input type="text" class="form-control" id="precio_noche_persona"
                name="precio_noche_persona" value="{{ object.precio_noche_persona }}">
        </div>
        <div class="mb-3">
            <label for="img_url" class="form-label">URL Imagen</label>
            <input type="text" class="form-control" id="img_url" name="img_url" value="{{ object.img_url }}">
        </div>
        <div class="mb-3">
            <label for="url_name" class="form-label">Nombre URL</label>
            <input type="text" class="form-control" id="url_name" name="url_name" value="{{ object.url_name }}">
        </div>
        <div class="mb-3">
            <label for="dias_cancel" class="form-label">Dias para cancelacion</label>
            <input type="text" class="form-control" id="dias_cancel" name="dias_cancel" value="{{ object.dias_cancel }}">
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    <a href="{% url 'admin_casas' %}" class="btn btn-secondary mt-3">Volver</a>
</div>



{% elif tipo_objeto == 'inquilino' %}
<div class="container">
    <h1>Editar Inquilino</h1>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="tipo_objeto" value="inquilino">

        <!-- Campos para la creación del usuario -->
        <div class="mb-3">
            <label for="username" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="username"
                name="username" value="{{ object.user.username }}" > 
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Correo</label>
            <input type="email" class="form-control" id="email" name="email"
            value="{{ object.user.email }}">
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="password"
                name="password" placeholder="Cambia contrasena">
        </div>

        <!-- Campos específicos del Inquilino -->
        <div class="mb-3">
            <label for="university" class="form-label">DNI</label>
            <input type="text" class="form-control" id="dni"
                name="dni" value="{{ object.dni }}">
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="address" name="address"
            value="{{ object.address }}">
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    <a href="{% url 'admin_inquilinos' %}"
        class="btn btn-secondary mt-3">Volver</a>
</div>



{% elif tipo_objeto == 'restaurante' %}
<div class="container">
    <h1>Editar Restaurante</h1>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="tipo_objeto" value="restaurante">

        <!-- Campo para el nombre del restaurante -->
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre" value="{{ object.nombre }}" required>
        </div>
        
        <!-- Campo para el número de licencia -->
        <div class="mb-3">
            <label for="num_licencia" class="form-label">Número de Licencia</label>
            <input type="text" class="form-control" id="num_licencia" name="num_licencia" value="{{ object.numero_licencia }}" required>
        </div>
    
        <!-- Campo para la dirección del restaurante -->
        <div class="mb-3">
            <label for="direccion" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="direccion" name="direccion" value="{{ object.direccion }}" required>
        </div>
    
        <!-- Campo para la descripción del restaurante -->
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción</label>
            <textarea class="form-control" id="descripcion" name="descripcion">{{ object.descripcion }}</textarea>
        </div>
    
        <!-- Campo para el precio medio -->
        <div class="mb-3">
            <label for="precio_medio" class="form-label">Precio Medio</label>
            <input type="text" class="form-control" id="precio_medio" name="precio_medio" value="{{ object.precio_medio }}" required>
        </div>

        <div class="mb-3">
            <label for="max_reservas_dia" class="form-label">Máximo de Reservas por Día</label>
            <input type="number" class="form-control" id="max_reservas_dia" name="max_reservas_dia"
            value="{{ object.max_reservas_dia }}" required>
        </div>
        
        <div class="mb-3">
            <label for="max_personas_reserva" class="form-label">Máximo de Personas por Reserva</label>
            <input type="number" class="form-control" id="max_personas_reserva" name="max_personas_reserva"
            value="{{ object.max_personas_reserva }}" required>
        </div>

        <!-- Campo para la URL de la imagen -->
        <div class="mb-3">
            <label for="img_url" class="form-label">URL de la Imagen</label>
            <input type="text" class="form-control" id="img_url" name="img_url" value="{{ object.img_url }}">
        </div>

        <!-- Campo para el nombre de la URL -->
        <div class="mb-3">
            <label for="url_name" class="form-label">Nombre de la URL</label>
            <input type="text" class="form-control" id="url_name" name="url_name" value="{{ object.url_name }}">
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    <a href="{% url 'admin_restaurantes' %}" class="btn btn-secondary mt-3">Volver</a>
</div>



{% elif tipo_objeto == 'reserva' %}
<div class="container">
    <h1>Editar Reserva</h1>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="tipo_objeto" value="reserva">

        <!-- Campos para las fechas de la reserva -->
        <div class="mb-3">
            <label for="fecha_entrada" class="form-label">Fecha de Entrada</label>
            <input type="date" class="form-control" id="fecha_entrada"
                name="fecha_entrada" value="{{ object.fecha_entrada|date:"Y-m-d" }}">
        </div>
        <div class="mb-3">
            <label for="fecha_salida" class="form-label">Fecha de Salida</label>
            <input type="date" class="form-control" id="fecha_salida" name="fecha_salida"
            value="{{ object.fecha_salida|date:"Y-m-d" }}">
        </div>

        <!-- Campos para detalles sobre los inquilinos -->
        <div class="mb-3">
            <label for="num_inquilinos" class="form-label">Número de Inquilinos</label>
            <input type="number" class="form-control" id="num_inquilinos"
                name="num_inquilinos" value="{{ object.num_inquilinos }}">
        </div>
        <div class="mb-3">
            <label for="num_menores" class="form-label">Número de Menores de 15 años</label>
            <input type="number" class="form-control" id="num_menores" name="num_menores"
            value="{{ object.num_menores }}">
        </div>

        <div class="mb-3">
            <label for="precio_total" class="form-label">Precio Total</label>
            <input type="text" class="form-control" id="precio_total" name="precio_total"
            value="{{ object.precio_total }}">
        </div>

        <div class="mb-3">
            <label for="cancelada" class="form-label">¿Está Cancelada?</label>
            <select class="form-control" id="cancelada" name="cancelada">
                <option value="False" {% if not object.cancelada %}selected{% endif %}>No</option>
                <option value="True" {% if object.cancelada %}selected{% endif %}>Sí</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
</div>

{% elif tipo_objeto == 'reserva_restaurante' %}
<div class="container">
    <h1>Editar Reserva de Restaurante</h1>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="tipo_objeto" value="reserva_restaurante">

        <!-- Campo para la fecha de la reserva -->
        <div class="mb-3">
            <label for="fecha_reserva" class="form-label">Fecha de Reserva</label>
            <input type="date" class="form-control" id="fecha_reserva"
                name="fecha_reserva" value="{{ object.fecha_reserva|date:"Y-m-d" }}">
        </div>

        <!-- Campo para la hora de la reserva -->
        <div class="mb-3">
            <label for="hora_reserva" class="form-label">Hora de Reserva</label>
            <input type="time" class="form-control" id="hora_reserva"
                name="hora_reserva" value="{{ object.hora_reserva|time:"H:i" }}">
        </div>

        <!-- Campo para el número de comensales -->
        <div class="mb-3">
            <label for="num_comensales" class="form-label">Número de Comensales</label>
            <input type="number" class="form-control" id="num_comensales"
                name="num_comensales" value="{{ object.num_comensales }}">
        </div>

        <!-- Campo para el turno -->
        <div class="mb-3">
            <label for="turno" class="form-label">Turno</label>
            <select class="form-control" id="turno" name="turno">
                <option value="tarde" {% if object.turno == 'tarde' %}selected{% endif %}>Tarde</option>
                <option value="noche" {% if object.turno == 'noche' %}selected{% endif %}>Noche</option>
            </select>
        </div>

        <!-- Campo para las notas -->
        <div class="mb-3">
            <label for="nota" class="form-label">Notas Adicionales</label>
            <textarea class="form-control" id="nota" name="nota">{{ object.nota }}</textarea>
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
</div>

{% endif %}

{% endblock %}