<!-- templates/admin_panel.html -->
{% extends "base.html" %}

{% load static %}

{% block title %}Admin Panel{% endblock %}

{% block extra_links %}
<link rel="stylesheet" href="{% static 'appCasa/css/admin/createObject.css' %}">
{% endblock %}

{% block content %}

{% if tipo_objeto == 'casa' %}
    <div class="container mt-5">
        <h1>Crear Casa</h1>
        <form method="post">
            {% csrf_token %}
            
            <input type="hidden"  name="tipo_objeto" value="casa">

            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" name="nombre">
            </div>
            <div class="mb-3">
                <label for="licencia" class="form-label">Licencia</label>
                <input type="text" class="form-control" id="licencia" name="licencia">
            </div>
            <div class="mb-3">
                <label for="direccion" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="direccion" name="direccion">
            </div>
            <div class="mb-3">
                <label for="descripcion" class="form-label">Descripcion</label>
                <input type="text" class="form-control" id="descripcion" name="descripcion">
            </div>
            <div class="mb-3">
                <label for="num_habitaciones" class="form-label">Numero de habitaciones</label>
                <input type="number" class="form-control" id="num_habitaciones" name="num_habitaciones">
            </div>
            <div class="mb-3">
                <label for="max_inquilinos" class="form-label">Maximo de inquilinos</label>
                <input type="number" class="form-control" id="max_inquilinos" name="max_inquilinos">
            </div>
            <div class="mb-3">
                <label for="precio_noche_persona" class="form-label">Precio por noche/persona</label>
                <input type="text" class="form-control" id="precio_noche_persona" name="precio_noche_persona">
            </div>
            <div class="mb-3">
                <label for="img_url" class="form-label">URL Imagen</label>
                <input type="text" class="form-control" id="img_url" name="img_url">
            </div>
            <div class="mb-3">
                <label for="url_name" class="form-label">Nombre URL</label>
                <input type="text" class="form-control" id="url_name" name="url_name">
            </div>
            <div class="mb-3">
                <label for="dias_cancel" class="form-label">Dias para cancelacion</label>
                <input type="text" class="form-control" id="dias_cancel" name="dias_cancel">
            </div>

            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
        <a href="{% url 'admin_casas' %}" class="btn btn-secondary mt-3">Volver</a>
    </div>


{% elif tipo_objeto == 'inquilino' %}
    <div class="container mt-5">
        <h1>Crear Inquilino</h1>
        <form method="post">
            {% csrf_token %}
            
            <!-- Campos para la creación del usuario -->
            <div class="mb-3">
                <label for="username" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="username" name="username">
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Correo</label>
                <input type="email" class="form-control" id="email" name="email">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="password" name="password">
            </div>

            <!-- Campos específicos del Inquilino -->
            <div class="mb-3">
                <label for="dni" class="form-label">DNI</label>
                <input type="text" class="form-control" id="dni" name="dni">
            </div>
            <div class="mb-3">
                <label for="address" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="address" name="address">
            </div>

            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
        <a href="{% url 'admin_inquilinos' %}" class="btn btn-secondary mt-3">Volver</a>
    </div>


    {% elif tipo_objeto == 'restaurante' %}
    <div class="container mt-5">
        <h1>Crear Restaurante</h1>
        <form method="post">
            {% csrf_token %}
            
            <!-- Campo para el nombre del restaurante -->
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" name="nombre" required>
            </div>
            
            <!-- Campo para el número de licencia -->
            <div class="mb-3">
                <label for="num_licencia" class="form-label">Número de Licencia</label>
                <input type="text" class="form-control" id="num_licencia" name="num_licencia" required>
            </div>
    
            <!-- Campo para la dirección del restaurante -->
            <div class="mb-3">
                <label for="direccion" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="direccion" name="direccion" required>
            </div>
    
            <!-- Campo para la descripción del restaurante -->
            <div class="mb-3">
                <label for="descripcion" class="form-label">Descripción</label>
                <textarea class="form-control" id="descripcion" name="descripcion"></textarea>
            </div>
    
            <!-- Campo para el precio medio -->
            <div class="mb-3">
                <label for="precio_medio" class="form-label">Precio Medio</label>
                <input type="text" class="form-control" id="precio_medio" name="precio_medio" required>
            </div>
            
            <div class="mb-3">
                <label for="max_reservas_dia" class="form-label">Máximo de Reservas por Día</label>
                <input type="number" class="form-control" id="max_reservas_dia" name="max_reservas_dia" required>
            </div>
            
            <div class="mb-3">
                <label for="max_personas_reserva" class="form-label">Máximo de Personas por Reserva</label>
                <input type="number" class="form-control" id="max_personas_reserva" name="max_personas_reserva" required>
            </div>

            <div class="mb-3">
                <label for="img_url" class="form-label">URL Imagen</label>
                <input type="text" class="form-control" id="img_url" name="img_url">
            </div>
            <div class="mb-3">
                <label for="url_name" class="form-label">Nombre URL</label>
                <input type="text" class="form-control" id="url_name" name="url_name">
            </div>
    
            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
        <a href="{% url 'admin_restaurantes' %}" class="btn btn-secondary mt-3">Volver</a>
    </div>


    {% elif tipo_objeto == 'reserva' %}
    <div class="container mt-5">
        <h1>Crear Reserva</h1>
        <form method="post">
            {% csrf_token %}
            
            <!-- Campo para seleccionar la casa -->
            <div class="mb-3">
                <label for="casa" class="form-label">Casa</label>
                <select class="form-control" id="casa" name="casa" required>
                    {% for casa in casas %}
                        <option value="{{ casa.id }}">{{ casa.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <!-- Campo para seleccionar el inquilino -->
            <div class="mb-3">
                <label for="inquilino" class="form-label">Inquilino</label>
                <select class="form-control" id="inquilino" name="inquilino" required>
                    {% for inquilino in inquilinos %}
                        <option value="{{ inquilino.id }}">{{ inquilino.user.username }}</option>
                    {% endfor %}
                </select>
            </div>
    
            <!-- Campo para la fecha de entrada -->
            <div class="mb-3">
                <label for="fecha_entrada" class="form-label">Fecha de Entrada</label>
                <input type="date" class="form-control" id="fecha_entrada" name="fecha_entrada" required>
            </div>
            
            <!-- Campo para la fecha de salida -->
            <div class="mb-3">
                <label for="fecha_salida" class="form-label">Fecha de Salida</label>
                <input type="date" class="form-control" id="fecha_salida" name="fecha_salida" required>
            </div>
    
            <!-- Campo para el número de inquilinos -->
            <div class="mb-3">
                <label for="num_inquilinos" class="form-label">Número de Inquilinos</label>
                <input type="number" class="form-control" id="num_inquilinos" name="num_inquilinos" required>
            </div>
    
            <!-- Campo para el número de menores -->
            <div class="mb-3">
                <label for="num_menores" class="form-label">Número de Menores</label>
                <input type="number" class="form-control" id="num_menores" name="num_menores">
            </div>
            
            <!-- Campo para el precio total -->
            <div class="mb-3">
                <label for="precio_total" class="form-label">Precio Total</label>
                <input type="text" class="form-control" id="precio_total" name="precio_total" required>
            </div>
    
            <!-- Checkbox para saber si la reserva está cancelada -->
            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="cancelada" name="cancelada">
                <label class="form-check-label" for="cancelada">Cancelada</label>
            </div>
    
            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
        <a href="{% url 'admin_reservas' %}" class="btn btn-secondary mt-3">Volver</a>
    </div>

    {% elif tipo_objeto == 'reserva_restaurante' %}
    <div class="container mt-5">
        <h1>Crear Reserva de Restaurante</h1>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="tipo_objeto" value="restaurante">
            
            <!-- Campo para seleccionar el restaurante -->
            <div class="mb-3">
                <label for="restaurante" class="form-label">Restaurante</label>
                <select class="form-control" id="restaurante" name="restaurante" required>
                    {% for restaurante in restaurantes %}
                        <option value="{{ restaurante.id }}">{{ restaurante.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <!-- Campo para seleccionar el inquilino -->
            <div class="mb-3">
                <label for="inquilino" class="form-label">Inquilino</label>
                <select class="form-control" id="inquilino" name="inquilino" required>
                    {% for inquilino in inquilinos %}
                        <option value="{{ inquilino.id }}">{{ inquilino.user.username }}</option>
                    {% endfor %}
                </select>
            </div>
    
            <!-- Campo para la fecha de la reserva -->
            <div class="mb-3">
                <label for="fecha_reserva" class="form-label">Fecha de Reserva</label>
                <input type="date" class="form-control" id="fecha_reserva" name="fecha_reserva" required>
            </div>
            
            <!-- Campo para la hora de la reserva -->
            <div class="mb-3">
                <label for="hora_reserva" class="form-label">Hora de Reserva</label>
                <input type="time" class="form-control" id="hora_reserva" name="hora_reserva" required>
            </div>
    
            <!-- Campo para el número de comensales -->
            <div class="mb-3">
                <label for="num_comensales" class="form-label">Número de Comensales</label>
                <input type="number" class="form-control" id="num_comensales" name="num_comensales" required>
            </div>
    
            <!-- Campo para el turno -->
            <div class="mb-3">
                <label for="turno" class="form-label">Turno</label>
                <select class="form-control" id="turno" name="turno" required>
                    <option value="tarde">Tarde</option>
                    <option value="noche">Noche</option>
                </select>
            </div>
    
            <!-- Campo para las notas -->
            <div class="mb-3">
                <label for="nota" class="form-label">Notas Adicionales</label>
                <textarea class="form-control" id="nota" name="nota"></textarea>
            </div>
    
            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
        <a href="{% url 'admin_reservas_restaurantes' %}" class="btn btn-secondary mt-3">Volver</a>
    </div>

{% endif %}

{% endblock %}